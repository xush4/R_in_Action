runs=as.list(mlb11[,2])
runs=as.list(mlb11[,2])
n=ncol(mlb11)
id=3:n
max=0
id=0
colname<-colnames(mlb11)
for (i in id){
var<- as.list(mlb11[,i])
m1 <- lm(runs ~ var)
a<-summary(m1)
if (a$r.squared>max){
max=a$r.squared
idr=colname[i]
}
}
runs=mlb11[,2]
i=5
var<- as.list(mlb11[,i])
m1 <- lm(runs ~ var)
??type()
type(var)
typeof(var)
a<-(0,1,2,3,)
a<-(0,1,2,3,4)
a<-c(0,1,2,3,4)
typeof(a)
var<- as.double(mlb11[,i])
var
runs=as.double(mlb11[,2])
m1 <- lm(runs ~ var)
runs=as.double(mlb11[,2])
n=ncol(mlb11)
id=3:n
max=0
id=0
colname<-colnames(mlb11)
for (i in id){
var<- as.double(mlb11[,i])
m1 <- lm(runs ~ a<var)
a<-summary(m1)
if (a$r.squared>max){
max=a$r.squared
idr=colname[i]
}
idr
}
runs=as.double(mlb11[,2])
n=ncol(mlb11)
id=3:n
max=0
id=0
colname<-colnames(mlb11)
for (i in id){
var<- as.double(mlb11[,i])
m1 <- lm(runs ~ var)
a<-summary(m1)
if (a$r.squared>max){
max=a$r.squared
idr=colname[i]
}
idr
}
runs=as.double(mlb11[,2])
n=ncol(mlb11)
id=3:n
max=0
colname<-colnames(mlb11)
for (i in id){
var<- as.double(mlb11[,i])
m1 <- lm(runs ~ var)
a<-summary(m1)
if (a$r.squared>max){
max=a$r.squared
idr=colname[i]
}
idr
}
idr
runs=as.double(mlb11[,2])
n=ncol(mlb11)
id=c(3,4,6,9)
max=0
colname<-colnames(mlb11)
for (i in id){
var<- as.double(mlb11[,i])
m1 <- lm(runs ~ var)
a<-summary(m1)
if (a$r.squared>max){
max=a$r.squared
idr=colname[i]
}
idr
}
idr
shiny::runApp('H:/open course/introduction to Rprogramming Hopkins/Data-Science-Capstone-Project/shinny')
install.packages("data.table")
shiny::runApp('H:/open course/introduction to Rprogramming Hopkins/Data-Science-Capstone-Project/shinny')
summary(probabilityTable)
summary(nc)
summary(ProbabilityTable)
shiny::runApp('H:/open course/introduction to Rprogramming Hopkins/Data-Science-Capstone-Project/shinny')
shiny::runApp('H:/open course/introduction to Rprogramming Hopkins/Data-Science-Capstone-Project/shinny')
shiny::runApp('H:/open course/introduction to Rprogramming Hopkins/Data-Science-Capstone-Project/shinny')
male2010=(19%,12%,62,6%)
male2010=[19%,12%,62%,6%]
male2010=(0.19,0.12,0.62,0.06)
male2010=c(0.19,0.12,0.62,0.06)
Overall2010=c(0.25,0.16,0.5,0.08)
Male2010=c(0.19,0.12,0.62,0.06)
Female2010=c(0.31,0.19,0.4,0.1)
Overall2010=c(0.25,0.16,0.5,0.08)
data2010=cbind(Male2010,Female2010,Overall2010)
data2010
data2010=rbind(Male2010,Female2010,Overall2010)
data2010
colnames(data2010)<-c("x1","x2","x3","x4")
data2010
Male2010=c(0.19,0.12,0.62,0.06)
Female2010=c(0.31,0.19,0.4,0.1)
Overall2010=c(0.25,0.16,0.5,0.09)
data2010=rbind(Male2010,Female2010,Overall2010)
colnames(data2010)<-c("illegal","illegal in some acts","Not illegal","Unsure")
Male2011=c(0.18,0.14,0.60,0.07)
Female2011=c(0.30,0.16,0.38,0.16)
Overall2011=c(0.24,0.15,0.49,0.12)
data2011=rbind(Male2011,Female2011,Overall2011)
colnames(data2011)<-c("illegal","illegal in some acts","Not illegal","Unsure")
Male2012=c(0.16,0.14,0.66,0.04)
Female2012=c(0.31,0.14,0.41,0.14)
Overall2012=c(0.24,0.14,0.53,0.10)
data2011=rbind(Male2011,Female2011,Overall2011)
colnames(data2012)<-c("illegal","illegal in some acts","Not illegal","Unsure")
Male2010=c(0.19,0.12,0.62,0.06)
Female2010=c(0.31,0.19,0.4,0.1)
Overall2010=c(0.25,0.16,0.5,0.09)
data2010=rbind(Male2010,Female2010,Overall2010)
colnames(data2010)<-c("illegal","illegal in some acts","Not illegal","Unsure")
Male2011=c(0.18,0.14,0.60,0.07)
Female2011=c(0.30,0.16,0.38,0.16)
Overall2011=c(0.24,0.15,0.49,0.12)
data2011=rbind(Male2011,Female2011,Overall2011)
colnames(data2011)<-c("illegal","illegal in some acts","Not illegal","Unsure")
Male2012=c(0.16,0.14,0.66,0.04)
Female2012=c(0.31,0.14,0.41,0.14)
Overall2012=c(0.24,0.14,0.53,0.10)
data2012=rbind(Male2012,Female2012,Overall2012)
colnames(data2012)<-c("illegal","illegal in some acts","Not illegal","Unsure")
barpolt(data2010)
barplot(data2010)
barplot(data2010,beside=1)
Male_3y=rbind(Male2011,Male2012,Male2013)
colnames(Male_3y)<-c("illegal","illegal in some acts","Not illegal","Unsure")
Female_3y=rbind(Female2011,Female2012,Female2013)
colnames(Female_3y)<-c("illegal","illegal in some acts","Not illegal","Unsure")
Overall_3y=rbind(Overall2011,Overall2012,Overall2013)
colnames(Overall_3y)<-c("illegal","illegal in some acts","Not illegal","Unsure")
Male2010=c(0.19,0.12,0.62,0.06)
Female2010=c(0.31,0.19,0.4,0.1)
Overall2010=c(0.25,0.16,0.5,0.09)
data2010=rbind(Male2010,Female2010,Overall2010)
colnames(data2010)<-c("illegal","illegal in some acts","Not illegal","Unsure")
Male2011=c(0.18,0.14,0.60,0.07)
Female2011=c(0.30,0.16,0.38,0.16)
Overall2011=c(0.24,0.15,0.49,0.12)
data2011=rbind(Male2011,Female2011,Overall2011)
colnames(data2011)<-c("illegal","illegal in some acts","Not illegal","Unsure")
Male2012=c(0.16,0.14,0.66,0.04)
Female2012=c(0.31,0.14,0.41,0.14)
Overall2012=c(0.24,0.14,0.53,0.10)
data2012=rbind(Male2012,Female2012,Overall2012)
colnames(data2012)<-c("illegal","illegal in some acts","Not illegal","Unsure")
Male_3y=rbind(Male2010,Male2011,Male2012)
colnames(Male_3y)<-c("illegal","illegal in some acts","Not illegal","Unsure")
Female_3y=rbind(Female2010,Female2011,Female2012)
colnames(Female_3y)<-c("illegal","illegal in some acts","Not illegal","Unsure")
Overall_3y=rbind(Overall2010,Overall2011,Overall2012)
colnames(Overall_3y)<-c("illegal","illegal in some acts","Not illegal","Unsure")
barplot(Overall_3y,beside=1)
ylab="Percentage",col=("red","yellow","green","white")beside=1)
barplot(Overall_3y,main="Public Opinion on Legalizing Prostitution", xlab="year",
ylab="Percentage",col=("red","yellow","green","white")beside=1)
barplot(Overall_3y,main="Public Opinion on Legalizing Prostitution", xlab="Year",
barplot(Overall_3y,main="Public Opinion on Legalizing Prostitution", xlab="Year",
ylab="Percentage", col=("red","yellow","green","white")beside=1)
barplot(Overall_3y,main="Public Opinion on Legalizing Prostitution",col=("red","yellow","green","white")beside=1)
ylab="Percentage", col=("red","yellow","green","white"),beside=1)
barplot(Overall_3y,main="Public Opinion on Legalizing Prostitution", xlab="Year",
ylab="Percentage", col=("red","yellow","green","white"),beside=1)
barplot(Overall_3y,main="Public Opinion on Legalizing Prostitution", beside=1)
barplot(Overall_3y,main="Public Opinion on Legalizing Prostitution", xlab="Year",
beside=1)
ylab="Percentage", beside=1)
ylab="Percentage", beside=1)
ylab="Percentage", beside=1)
barplot(Overall_3y,main="Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", beside=1)
ylab="Percentage",col=("red","yellow","green","white"), beside=1)
ylab="Percentage", col=("red","yellow","green"), beside=1)
ylab="Percentage", col=("red","yellow","green"), beside=1)
barplot(Overall_3y,main="Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", col=("red","yellow","green"), beside=1)
barplot(Overall_3y,main="Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", col=("red", "yellow", "green"), beside=1)
barplot(Overall_3y,main="Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", legend=c("2010","2011","2012"),beside=1)
Overall_3y
Male_3y=rbind(Male2010,Male2011,Male2012)
colnames(Male_3y)<-c("illegal","illegal in some acts","Not illegal","Unsure")
rownames(Male_3y)<-c("2010","2011","2012")
par(mfrow=c(2,3))
barplot(Male_3y,main="Male Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", legend=c("2010","2011","2012"),beside=1)
barplot(Female_3y,main="Female Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", legend=c("2010","2011","2012"),beside=1)
barplot(Overall_3y,main="Overall Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", legend=c("2010","2011","2012"),beside=1)
par(mfrow=c(1,3))
barplot(Male_3y,main="Male Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", legend=c("2010","2011","2012"),beside=1)
barplot(Female_3y,main="Female Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", legend=c("2010","2011","2012"),beside=1)
barplot(Overall_3y,main="Overall Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", legend=c("2010","2011","2012"),beside=1)
par(mfrow=c(3,1))
barplot(Male_3y,main="Male Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", legend=c("2010","2011","2012"),beside=1)
barplot(Female_3y,main="Female Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", legend=c("2010","2011","2012"),beside=1)
barplot(Overall_3y,main="Overall Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", legend=c("2010","2011","2012"),beside=1)
par(mfrow=c(2,2))
barplot(Male_3y,main="Male Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", legend=c("2010","2011","2012"),beside=1)
barplot(Female_3y,main="Female Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", legend=c("2010","2011","2012"),beside=1)
barplot(Overall_3y,main="Overall Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", legend=c("2010","2011","2012"),beside=1)
par(mfrow=c(3,1))
barplot(Male_3y,main="Male Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", legend=c("2010","2011","2012"),beside=1)
barplot(Female_3y,main="Female Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", legend=c("2010","2011","2012"),beside=1)
barplot(Overall_3y,main="Overall Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", legend=c("2010","2011","2012"),beside=1)
par(mfrow=c(1,3))
barplot(Male_3y,main="Male Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", legend=c("2010","2011","2012"),beside=1)
barplot(Female_3y,main="Female Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", legend=c("2010","2011","2012"),beside=1)
barplot(Overall_3y,main="Overall Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", legend=c("2010","2011","2012"),beside=1)
barplot(Male_3y,main="Male Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", ylim=c(0,0.7), legend=c("2010","2011","2012"),beside=1)
par(mfrow=c(1,3))
barplot(Male_3y,main="Male Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", ylim=c(0,0.7), legend=c("2010","2011","2012"),beside=1)
barplot(Female_3y,main="Female Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", ylim=c(0,0.7), legend=c("2010","2011","2012"),beside=1)
barplot(Overall_3y,main="Overall Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", ylim=c(0,0.7), legend=c("2010","2011","2012"),beside=1)
par(mfrow=c(1,1))
par(mfrow=c(1,2))
barplot(Male_3y,main="Male Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", ylim=c(0,0.7), legend=c("2010","2011","2012"),beside=1)
barplot(Female_3y,main="Female Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", ylim=c(0,0.7), legend=c("2010","2011","2012"),beside=1)
barplot(Male_3y,main="Male Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", ylim=c(0,0.7), legend=c("2010","2011","2012"),legend(1,2), beside=1)
barplot(Male_3y,main="Male Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", ylim=c(0,0.7), legend=c("2010","2011","2012"), beside=1)
legend(x=4,y=60, legend=2011:2008)
legend(x=4,y=60, legend=2011:2008)
legend("left", legend=2011:2008)
legend("middle", legend=2011:2008)
legend("center", legend=2011:2008)
barplot(Male_3y,main="Male Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", ylim=c(0,0.7), legend=c("2010","2011","2012"), beside=1)
legend("center")
barplot(Male_3y,main="Male Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", ylim=c(0,0.1), legend=c("2010","2011","2012"), beside=1)
legend("center")
barplot(Male_3y,main="Male Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", ylim=c(0,1), legend=c("2010","2011","2012"), beside=1)
barplot(Male_3y,main="Male Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", ylim=c(0,1), col=rainbow(3), legend=c("2010","2011","2012"), beside=1)
barplot(Male_3y,main="Male Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", ylim=c(0,1), col=rainbow(3), beside=1)
legend("center", legend=2011:2009, fill=rainbow(3)[3:1])
barplot(Male_3y,main="Male Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", ylim=c(0,1), col=rainbow(3), beside=1)
legend("topright", legend=2011:2009, fill=rainbow(3)[3:1])
par(mfrow=c(1,2))
barplot(Male_3y,main="Male Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", ylim=c(0,1), col=rainbow(3), beside=1)
legend("topright", legend=2011:2009, fill=rainbow(3)[3:1])
barplot(Female_3y,main="Female Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", ylim=c(0,1), col=rainbow(3), beside=1)
legend("topright", legend=2011:2009, fill=rainbow(3)[3:1])
gender=c(0,0,0,1,1,1)
illegal=c(0.19,0.18,0.16,0.31,0.30,0.31)
legal=c(0.62,0.6,0.66,0.4,0.38,0.41)
a=lm(gender~illegal)
summary(a)
b=lm(gender~legal)
summary(b)
Female2010=c(0.31,0.19,0.4,0.1)
Male2010=c(0.19,0.12,0.62,0.06)
Female2010=c(0.31,0.19,0.4,0.1)
Overall2010=c(0.25,0.16,0.5,0.09)
data2010=rbind(Male2010,Female2010,Overall2010)
colnames(data2010)<-c("illegal","illegal in some acts","Not illegal","Unsure")
Male2011=c(0.18,0.14,0.60,0.07)
Female2011=c(0.30,0.16,0.38,0.16)
Overall2011=c(0.24,0.15,0.49,0.12)
data2011=rbind(Male2011,Female2011,Overall2011)
colnames(data2011)<-c("illegal","illegal in some acts","Not illegal","Unsure")
Male2012=c(0.16,0.14,0.66,0.04)
Female2012=c(0.31,0.14,0.41,0.14)
Overall2012=c(0.24,0.14,0.53,0.10)
data2012=rbind(Male2012,Female2012,Overall2012)
colnames(data2012)<-c("illegal","illegal in some acts","Not illegal","Unsure")
Male_3y=rbind(Male2010,Male2011,Male2012)
colnames(Male_3y)<-c("illegal","illegal in some acts","Not illegal","Unsure")
rownames(Male_3y)<-c("2010","2011","2012")
Female_3y=rbind(Female2010,Female2011,Female2012)
colnames(Female_3y)<-c("illegal","illegal in some acts","Not illegal","Unsure")
rownames(Female_3y)<-c("2010","2011","2012")
Overall_3y=rbind(Overall2010,Overall2011,Overall2012)
colnames(Overall_3y)<-c("illegal","illegal in some acts","Not illegal","Unsure")
rownames(Overall_3y)<-c("2010","2011","2012")
par(mfrow=c(1,2))
barplot(Male_3y,main="Male Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", ylim=c(0,1), col=rainbow(3), beside=1)
legend("topright", legend=2011:2009, fill=rainbow(3)[3:1])
barplot(Female_3y,main="Female Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", ylim=c(0,1), col=rainbow(3), beside=1)
legend("topright", legend=2011:2009, fill=rainbow(3)[3:1])
barplot(Overall_3y,main="Overall Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", ylim=c(0,0.1), col=rainbow(3), legend=c("2010","2011","2012"),beside=1)
gender=c(0,0,0,1,1,1)
illegal=c(0.19,0.18,0.16,0.31,0.30,0.31)
legal=c(0.62,0.6,0.66,0.4,0.38,0.41)
a=lm(gender~illegal)
summary(a)
b=lm(gender~legal)
summary(b)
par(mfrow=c(1,1))
barplot(Male_3y,main="Male Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", ylim=c(0,1), col=rainbow(3), beside=1)
legend("topright", legend=2011:2009, fill=rainbow(3)[3:1])
Male_3y=rbind(Male2010,Male2011,Male2012)
colnames(Male_3y)<-c("illegal","illegal partly","Not illegal","Unsure")
rownames(Male_3y)<-c("2010","2011","2012")
Female_3y=rbind(Female2010,Female2011,Female2012)
colnames(Female_3y)<-c("illegal","illegal partly","Not illegal","Unsure")
rownames(Female_3y)<-c("2010","2011","2012")
par(mfrow=c(1,2))
barplot(Male_3y,main="Male Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", ylim=c(0,1), col=rainbow(3), beside=1)
legend("topright", legend=2011:2009, fill=rainbow(3)[3:1])
barplot(Female_3y,main="Female Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", ylim=c(0,1), col=rainbow(3), beside=1)
legend("topright", legend=2011:2009, fill=rainbow(3)[3:1])
Overall_3y=rbind(Overall2010,Overall2011,Overall2012)
colnames(Overall_3y)<-c("illegal","illegal in some acts","Not illegal","Unsure")
rownames(Overall_3y)<-c("2010","2011","2012")
par(mfrow=c(1,2))
barplot(Male_3y,main="Male Public Opinion on Legalizing Prostitution", xlab="(a) Male's Opinion",
ylab="Percentage", ylim=c(0,1), col=rainbow(3), beside=1)
legend("topright", legend=2011:2009, fill=rainbow(3)[3:1])
par(mfrow=c(1,2))
barplot(Male_3y,main="Male Public Opinion on Legalizing Prostitution", xlab="(a) Male's Opinion",
ylab="Percentage", ylim=c(0,1), col=rainbow(3), beside=1)
legend("topright", legend=2011:2009, fill=rainbow(3)[3:1])
barplot(Female_3y,main="Female Public Opinion on Legalizing Prostitution", xlab="(b) Female's Opinion",
ylab="Percentage", ylim=c(0,1), col=rainbow(3), beside=1)
legend("topright", legend=2011:2009, fill=rainbow(3)[3:1])
for (i in 0:19) {}
for (i in 0:19) {
sum=sum+0.5/(1.1^i)}
sum=0
for (i in 0:19) {
sum=sum+0.5/(1.1^i)}
sum
1/1.069^2
1.069^2/1.063
400/1.02^3
10000/0.06-10000/0.08
400*1.02^3
10000/0.08-10000/0.1
save.image("~/.RData")
1/(1.081^4)
105+100/1.05
100-100/1.04
100-100/1.05
100/1.05
2/(105-100/1.05)
0.204878*95.2381/1.02
20.45-19.13
(1.088^6-1)/6
3/(105-100/1.05)
95.23*0.3073/1.02
30.73-28.69
95.23*0.3073171/1.02
opar <- par(no.readonly = TRUE)
par(mfrow=c(2,2))
#最简单直接：
hist(mtcars$mpg)
#制定数组和颜色
hist(mtcars$mpg,breaks=12,col="red",xlab="mpg",main="Colored with 12 bins")
#添加轴须图
hist(mtcars$mpg, freq = FALSE, breaks = 12, col = "red",
xlab = "Miles Per Gallon",
main = "Histogram, rug plot, density curve")
rug(jitter(mtcars$mpg))#核密图
lines(density(mtcars$mpg), col = "blue", lwd = 2)#轴须图
#正态密度曲线和边框
x <- mtcars$mpg
h <- hist(x, breaks = 12, col = "red",
xlab = "Miles Per Gallon",
main = "Histogram with normal curve and box")
xfit <- seq(min(x), max(x), length = 40)
yfit <- dnorm(xfit, mean = mean(x), sd = sd(x))
yfit <- yfit * diff(h$mids[1:2]) * length(x)
lines(xfit, yfit, col = "blue", lwd = 2)
box()
par(opar)
#比较核密图：
par(lwd = 2)
library(sm)
attach(mtcars)
#创建分组因子
cyl.f <- factor(cyl, levels = c(4, 6, 8),
labels = c("4 cylinder", "6 cylinder", "8 cylinder"))
sm.density.compare(mpg, cyl, xlab = "Miles Per Gallon")
title(main = "MPG Distribution by Car Cylinders")
colfill <- c(2:(2 + length(levels(cyl.f))))
cat("Use mouse to place legend...", "\n\n")#用鼠标添加图例
legend(locator(1), levels(cyl.f), fill = colfill)
detach(mtcars)
par(lwd = 1)
opar <- par(no.readonly = TRUE)
par(mfrow=c(2,2))
#最简单直接：
hist(mtcars$mpg)
#制定数组和颜色
hist(mtcars$mpg,breaks=12,col="red",xlab="mpg",main="Colored with 12 bins")
#添加轴须图
hist(mtcars$mpg, freq = FALSE, breaks = 12, col = "red",
xlab = "Miles Per Gallon",
main = "Histogram, rug plot, density curve")
rug(jitter(mtcars$mpg))#核密图
lines(density(mtcars$mpg), col = "blue", lwd = 2)#轴须图
#正态密度曲线和边框
x <- mtcars$mpg
h <- hist(x, breaks = 12, col = "red",
xlab = "Miles Per Gallon",
main = "Histogram with normal curve and box")
xfit <- seq(min(x), max(x), length = 40)
yfit <- dnorm(xfit, mean = mean(x), sd = sd(x))
yfit <- yfit * diff(h$mids[1:2]) * length(x)
lines(xfit, yfit, col = "blue", lwd = 2)
box()
par(opar)
#比较核密图：
par(lwd = 2)
library(sm)
attach(mtcars)
#创建分组因子
cyl.f <- factor(cyl, levels = c(4, 6, 8),
labels = c("4 cylinder", "6 cylinder", "8 cylinder"))
sm.density.compare(mpg, cyl, xlab = "Miles Per Gallon")
title(main = "MPG Distribution by Car Cylinders")
colfill <- c(2:(2 + length(levels(cyl.f))))
cat("Use mouse to place legend...", "\n\n")#用鼠标添加图例
legend(locator(1), levels(cyl.f), fill = colfill)
detach(mtcars)
par(lwd = 1)
setwd("E:/Dropbox/Data Science/R_in_Action")
boxplot(mpg ~ cyl, data = mtcars,
main = "Car Milage Data",
xlab = "Number of Cylinders",
ylab = "Miles Per Gallon")
boxplot(mpg ~ cyl, data = mtcars, notch = TRUE,
varwidth = TRUE, col = "red",
main = "Car Mileage Data",
xlab = "Number of Cylinders",
ylab = "Miles Per Gallon")
mtcars$cyl.f <- factor(mtcars$cyl, levels = c(4, 6,
8), labels = c("4", "6", "8"))
mtcars$am.f <- factor(mtcars$am, levels = c(0, 1),
labels = c("auto", "standard"))
boxplot(mpg ~ am.f * cyl.f, data = mtcars,
varwidth = TRUE, col = c("gold", "darkgreen"),
main = "MPG Distribution by Auto Type",
xlab = "Auto Type")
dotchart(mtcars$mpg, labels = row.names(mtcars),
cex = 0.7,
main = "Gas Milage for Car Models",
xlab = "Miles Per Gallon")
#分类图
x <- mtcars[order(mtcars$mpg), ]
x$cyl <- factor(x$cyl)
x$color[x$cyl == 4] <- "red"
x$color[x$cyl == 6] <- "blue"
x$color[x$cyl == 8] <- "darkgreen"
dotchart(x$mpg, labels = row.names(x), cex = 0.7,
pch = 19, groups = x$cyl,
gcolor = "black", color = x$color,
main = "Gas Milage for Car Models\ngrouped by cylinder",
xlab = "Miles Per Gallon")
