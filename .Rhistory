for (i in id){
var<- as.double(mlb11[,i])
m1 <- lm(runs ~ var)
a<-summary(m1)
if (a$r.squared>max){
max=a$r.squared
idr=colname[i]
}
idr
}
idr
shiny::runApp('H:/open course/introduction to Rprogramming Hopkins/Data-Science-Capstone-Project/shinny')
install.packages("data.table")
shiny::runApp('H:/open course/introduction to Rprogramming Hopkins/Data-Science-Capstone-Project/shinny')
summary(probabilityTable)
summary(nc)
summary(ProbabilityTable)
shiny::runApp('H:/open course/introduction to Rprogramming Hopkins/Data-Science-Capstone-Project/shinny')
shiny::runApp('H:/open course/introduction to Rprogramming Hopkins/Data-Science-Capstone-Project/shinny')
shiny::runApp('H:/open course/introduction to Rprogramming Hopkins/Data-Science-Capstone-Project/shinny')
male2010=(19%,12%,62,6%)
male2010=[19%,12%,62%,6%]
male2010=(0.19,0.12,0.62,0.06)
male2010=c(0.19,0.12,0.62,0.06)
Overall2010=c(0.25,0.16,0.5,0.08)
Male2010=c(0.19,0.12,0.62,0.06)
Female2010=c(0.31,0.19,0.4,0.1)
Overall2010=c(0.25,0.16,0.5,0.08)
data2010=cbind(Male2010,Female2010,Overall2010)
data2010
data2010=rbind(Male2010,Female2010,Overall2010)
data2010
colnames(data2010)<-c("x1","x2","x3","x4")
data2010
Male2010=c(0.19,0.12,0.62,0.06)
Female2010=c(0.31,0.19,0.4,0.1)
Overall2010=c(0.25,0.16,0.5,0.09)
data2010=rbind(Male2010,Female2010,Overall2010)
colnames(data2010)<-c("illegal","illegal in some acts","Not illegal","Unsure")
Male2011=c(0.18,0.14,0.60,0.07)
Female2011=c(0.30,0.16,0.38,0.16)
Overall2011=c(0.24,0.15,0.49,0.12)
data2011=rbind(Male2011,Female2011,Overall2011)
colnames(data2011)<-c("illegal","illegal in some acts","Not illegal","Unsure")
Male2012=c(0.16,0.14,0.66,0.04)
Female2012=c(0.31,0.14,0.41,0.14)
Overall2012=c(0.24,0.14,0.53,0.10)
data2011=rbind(Male2011,Female2011,Overall2011)
colnames(data2012)<-c("illegal","illegal in some acts","Not illegal","Unsure")
Male2010=c(0.19,0.12,0.62,0.06)
Female2010=c(0.31,0.19,0.4,0.1)
Overall2010=c(0.25,0.16,0.5,0.09)
data2010=rbind(Male2010,Female2010,Overall2010)
colnames(data2010)<-c("illegal","illegal in some acts","Not illegal","Unsure")
Male2011=c(0.18,0.14,0.60,0.07)
Female2011=c(0.30,0.16,0.38,0.16)
Overall2011=c(0.24,0.15,0.49,0.12)
data2011=rbind(Male2011,Female2011,Overall2011)
colnames(data2011)<-c("illegal","illegal in some acts","Not illegal","Unsure")
Male2012=c(0.16,0.14,0.66,0.04)
Female2012=c(0.31,0.14,0.41,0.14)
Overall2012=c(0.24,0.14,0.53,0.10)
data2012=rbind(Male2012,Female2012,Overall2012)
colnames(data2012)<-c("illegal","illegal in some acts","Not illegal","Unsure")
barpolt(data2010)
barplot(data2010)
barplot(data2010,beside=1)
Male_3y=rbind(Male2011,Male2012,Male2013)
colnames(Male_3y)<-c("illegal","illegal in some acts","Not illegal","Unsure")
Female_3y=rbind(Female2011,Female2012,Female2013)
colnames(Female_3y)<-c("illegal","illegal in some acts","Not illegal","Unsure")
Overall_3y=rbind(Overall2011,Overall2012,Overall2013)
colnames(Overall_3y)<-c("illegal","illegal in some acts","Not illegal","Unsure")
Male2010=c(0.19,0.12,0.62,0.06)
Female2010=c(0.31,0.19,0.4,0.1)
Overall2010=c(0.25,0.16,0.5,0.09)
data2010=rbind(Male2010,Female2010,Overall2010)
colnames(data2010)<-c("illegal","illegal in some acts","Not illegal","Unsure")
Male2011=c(0.18,0.14,0.60,0.07)
Female2011=c(0.30,0.16,0.38,0.16)
Overall2011=c(0.24,0.15,0.49,0.12)
data2011=rbind(Male2011,Female2011,Overall2011)
colnames(data2011)<-c("illegal","illegal in some acts","Not illegal","Unsure")
Male2012=c(0.16,0.14,0.66,0.04)
Female2012=c(0.31,0.14,0.41,0.14)
Overall2012=c(0.24,0.14,0.53,0.10)
data2012=rbind(Male2012,Female2012,Overall2012)
colnames(data2012)<-c("illegal","illegal in some acts","Not illegal","Unsure")
Male_3y=rbind(Male2010,Male2011,Male2012)
colnames(Male_3y)<-c("illegal","illegal in some acts","Not illegal","Unsure")
Female_3y=rbind(Female2010,Female2011,Female2012)
colnames(Female_3y)<-c("illegal","illegal in some acts","Not illegal","Unsure")
Overall_3y=rbind(Overall2010,Overall2011,Overall2012)
colnames(Overall_3y)<-c("illegal","illegal in some acts","Not illegal","Unsure")
barplot(Overall_3y,beside=1)
ylab="Percentage",col=("red","yellow","green","white")beside=1)
barplot(Overall_3y,main="Public Opinion on Legalizing Prostitution", xlab="year",
ylab="Percentage",col=("red","yellow","green","white")beside=1)
barplot(Overall_3y,main="Public Opinion on Legalizing Prostitution", xlab="Year",
barplot(Overall_3y,main="Public Opinion on Legalizing Prostitution", xlab="Year",
ylab="Percentage", col=("red","yellow","green","white")beside=1)
barplot(Overall_3y,main="Public Opinion on Legalizing Prostitution",col=("red","yellow","green","white")beside=1)
ylab="Percentage", col=("red","yellow","green","white"),beside=1)
barplot(Overall_3y,main="Public Opinion on Legalizing Prostitution", xlab="Year",
ylab="Percentage", col=("red","yellow","green","white"),beside=1)
barplot(Overall_3y,main="Public Opinion on Legalizing Prostitution", beside=1)
barplot(Overall_3y,main="Public Opinion on Legalizing Prostitution", xlab="Year",
beside=1)
ylab="Percentage", beside=1)
ylab="Percentage", beside=1)
ylab="Percentage", beside=1)
barplot(Overall_3y,main="Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", beside=1)
ylab="Percentage",col=("red","yellow","green","white"), beside=1)
ylab="Percentage", col=("red","yellow","green"), beside=1)
ylab="Percentage", col=("red","yellow","green"), beside=1)
barplot(Overall_3y,main="Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", col=("red","yellow","green"), beside=1)
barplot(Overall_3y,main="Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", col=("red", "yellow", "green"), beside=1)
barplot(Overall_3y,main="Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", legend=c("2010","2011","2012"),beside=1)
Overall_3y
Male_3y=rbind(Male2010,Male2011,Male2012)
colnames(Male_3y)<-c("illegal","illegal in some acts","Not illegal","Unsure")
rownames(Male_3y)<-c("2010","2011","2012")
par(mfrow=c(2,3))
barplot(Male_3y,main="Male Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", legend=c("2010","2011","2012"),beside=1)
barplot(Female_3y,main="Female Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", legend=c("2010","2011","2012"),beside=1)
barplot(Overall_3y,main="Overall Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", legend=c("2010","2011","2012"),beside=1)
par(mfrow=c(1,3))
barplot(Male_3y,main="Male Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", legend=c("2010","2011","2012"),beside=1)
barplot(Female_3y,main="Female Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", legend=c("2010","2011","2012"),beside=1)
barplot(Overall_3y,main="Overall Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", legend=c("2010","2011","2012"),beside=1)
par(mfrow=c(3,1))
barplot(Male_3y,main="Male Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", legend=c("2010","2011","2012"),beside=1)
barplot(Female_3y,main="Female Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", legend=c("2010","2011","2012"),beside=1)
barplot(Overall_3y,main="Overall Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", legend=c("2010","2011","2012"),beside=1)
par(mfrow=c(2,2))
barplot(Male_3y,main="Male Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", legend=c("2010","2011","2012"),beside=1)
barplot(Female_3y,main="Female Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", legend=c("2010","2011","2012"),beside=1)
barplot(Overall_3y,main="Overall Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", legend=c("2010","2011","2012"),beside=1)
par(mfrow=c(3,1))
barplot(Male_3y,main="Male Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", legend=c("2010","2011","2012"),beside=1)
barplot(Female_3y,main="Female Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", legend=c("2010","2011","2012"),beside=1)
barplot(Overall_3y,main="Overall Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", legend=c("2010","2011","2012"),beside=1)
par(mfrow=c(1,3))
barplot(Male_3y,main="Male Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", legend=c("2010","2011","2012"),beside=1)
barplot(Female_3y,main="Female Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", legend=c("2010","2011","2012"),beside=1)
barplot(Overall_3y,main="Overall Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", legend=c("2010","2011","2012"),beside=1)
barplot(Male_3y,main="Male Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", ylim=c(0,0.7), legend=c("2010","2011","2012"),beside=1)
par(mfrow=c(1,3))
barplot(Male_3y,main="Male Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", ylim=c(0,0.7), legend=c("2010","2011","2012"),beside=1)
barplot(Female_3y,main="Female Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", ylim=c(0,0.7), legend=c("2010","2011","2012"),beside=1)
barplot(Overall_3y,main="Overall Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", ylim=c(0,0.7), legend=c("2010","2011","2012"),beside=1)
par(mfrow=c(1,1))
par(mfrow=c(1,2))
barplot(Male_3y,main="Male Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", ylim=c(0,0.7), legend=c("2010","2011","2012"),beside=1)
barplot(Female_3y,main="Female Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", ylim=c(0,0.7), legend=c("2010","2011","2012"),beside=1)
barplot(Male_3y,main="Male Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", ylim=c(0,0.7), legend=c("2010","2011","2012"),legend(1,2), beside=1)
barplot(Male_3y,main="Male Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", ylim=c(0,0.7), legend=c("2010","2011","2012"), beside=1)
legend(x=4,y=60, legend=2011:2008)
legend(x=4,y=60, legend=2011:2008)
legend("left", legend=2011:2008)
legend("middle", legend=2011:2008)
legend("center", legend=2011:2008)
barplot(Male_3y,main="Male Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", ylim=c(0,0.7), legend=c("2010","2011","2012"), beside=1)
legend("center")
barplot(Male_3y,main="Male Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", ylim=c(0,0.1), legend=c("2010","2011","2012"), beside=1)
legend("center")
barplot(Male_3y,main="Male Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", ylim=c(0,1), legend=c("2010","2011","2012"), beside=1)
barplot(Male_3y,main="Male Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", ylim=c(0,1), col=rainbow(3), legend=c("2010","2011","2012"), beside=1)
barplot(Male_3y,main="Male Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", ylim=c(0,1), col=rainbow(3), beside=1)
legend("center", legend=2011:2009, fill=rainbow(3)[3:1])
barplot(Male_3y,main="Male Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", ylim=c(0,1), col=rainbow(3), beside=1)
legend("topright", legend=2011:2009, fill=rainbow(3)[3:1])
par(mfrow=c(1,2))
barplot(Male_3y,main="Male Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", ylim=c(0,1), col=rainbow(3), beside=1)
legend("topright", legend=2011:2009, fill=rainbow(3)[3:1])
barplot(Female_3y,main="Female Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", ylim=c(0,1), col=rainbow(3), beside=1)
legend("topright", legend=2011:2009, fill=rainbow(3)[3:1])
gender=c(0,0,0,1,1,1)
illegal=c(0.19,0.18,0.16,0.31,0.30,0.31)
legal=c(0.62,0.6,0.66,0.4,0.38,0.41)
a=lm(gender~illegal)
summary(a)
b=lm(gender~legal)
summary(b)
Female2010=c(0.31,0.19,0.4,0.1)
Male2010=c(0.19,0.12,0.62,0.06)
Female2010=c(0.31,0.19,0.4,0.1)
Overall2010=c(0.25,0.16,0.5,0.09)
data2010=rbind(Male2010,Female2010,Overall2010)
colnames(data2010)<-c("illegal","illegal in some acts","Not illegal","Unsure")
Male2011=c(0.18,0.14,0.60,0.07)
Female2011=c(0.30,0.16,0.38,0.16)
Overall2011=c(0.24,0.15,0.49,0.12)
data2011=rbind(Male2011,Female2011,Overall2011)
colnames(data2011)<-c("illegal","illegal in some acts","Not illegal","Unsure")
Male2012=c(0.16,0.14,0.66,0.04)
Female2012=c(0.31,0.14,0.41,0.14)
Overall2012=c(0.24,0.14,0.53,0.10)
data2012=rbind(Male2012,Female2012,Overall2012)
colnames(data2012)<-c("illegal","illegal in some acts","Not illegal","Unsure")
Male_3y=rbind(Male2010,Male2011,Male2012)
colnames(Male_3y)<-c("illegal","illegal in some acts","Not illegal","Unsure")
rownames(Male_3y)<-c("2010","2011","2012")
Female_3y=rbind(Female2010,Female2011,Female2012)
colnames(Female_3y)<-c("illegal","illegal in some acts","Not illegal","Unsure")
rownames(Female_3y)<-c("2010","2011","2012")
Overall_3y=rbind(Overall2010,Overall2011,Overall2012)
colnames(Overall_3y)<-c("illegal","illegal in some acts","Not illegal","Unsure")
rownames(Overall_3y)<-c("2010","2011","2012")
par(mfrow=c(1,2))
barplot(Male_3y,main="Male Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", ylim=c(0,1), col=rainbow(3), beside=1)
legend("topright", legend=2011:2009, fill=rainbow(3)[3:1])
barplot(Female_3y,main="Female Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", ylim=c(0,1), col=rainbow(3), beside=1)
legend("topright", legend=2011:2009, fill=rainbow(3)[3:1])
barplot(Overall_3y,main="Overall Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", ylim=c(0,0.1), col=rainbow(3), legend=c("2010","2011","2012"),beside=1)
gender=c(0,0,0,1,1,1)
illegal=c(0.19,0.18,0.16,0.31,0.30,0.31)
legal=c(0.62,0.6,0.66,0.4,0.38,0.41)
a=lm(gender~illegal)
summary(a)
b=lm(gender~legal)
summary(b)
par(mfrow=c(1,1))
barplot(Male_3y,main="Male Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", ylim=c(0,1), col=rainbow(3), beside=1)
legend("topright", legend=2011:2009, fill=rainbow(3)[3:1])
Male_3y=rbind(Male2010,Male2011,Male2012)
colnames(Male_3y)<-c("illegal","illegal partly","Not illegal","Unsure")
rownames(Male_3y)<-c("2010","2011","2012")
Female_3y=rbind(Female2010,Female2011,Female2012)
colnames(Female_3y)<-c("illegal","illegal partly","Not illegal","Unsure")
rownames(Female_3y)<-c("2010","2011","2012")
par(mfrow=c(1,2))
barplot(Male_3y,main="Male Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", ylim=c(0,1), col=rainbow(3), beside=1)
legend("topright", legend=2011:2009, fill=rainbow(3)[3:1])
barplot(Female_3y,main="Female Public Opinion on Legalizing Prostitution", xlab="Opinion",
ylab="Percentage", ylim=c(0,1), col=rainbow(3), beside=1)
legend("topright", legend=2011:2009, fill=rainbow(3)[3:1])
Overall_3y=rbind(Overall2010,Overall2011,Overall2012)
colnames(Overall_3y)<-c("illegal","illegal in some acts","Not illegal","Unsure")
rownames(Overall_3y)<-c("2010","2011","2012")
par(mfrow=c(1,2))
barplot(Male_3y,main="Male Public Opinion on Legalizing Prostitution", xlab="(a) Male's Opinion",
ylab="Percentage", ylim=c(0,1), col=rainbow(3), beside=1)
legend("topright", legend=2011:2009, fill=rainbow(3)[3:1])
par(mfrow=c(1,2))
barplot(Male_3y,main="Male Public Opinion on Legalizing Prostitution", xlab="(a) Male's Opinion",
ylab="Percentage", ylim=c(0,1), col=rainbow(3), beside=1)
legend("topright", legend=2011:2009, fill=rainbow(3)[3:1])
barplot(Female_3y,main="Female Public Opinion on Legalizing Prostitution", xlab="(b) Female's Opinion",
ylab="Percentage", ylim=c(0,1), col=rainbow(3), beside=1)
legend("topright", legend=2011:2009, fill=rainbow(3)[3:1])
for (i in 0:19) {}
for (i in 0:19) {
sum=sum+0.5/(1.1^i)}
sum=0
for (i in 0:19) {
sum=sum+0.5/(1.1^i)}
sum
1/1.069^2
1.069^2/1.063
400/1.02^3
10000/0.06-10000/0.08
400*1.02^3
10000/0.08-10000/0.1
save.image("~/.RData")
1/(1.081^4)
105+100/1.05
100-100/1.04
100-100/1.05
100/1.05
2/(105-100/1.05)
0.204878*95.2381/1.02
20.45-19.13
(1.088^6-1)/6
3/(105-100/1.05)
95.23*0.3073/1.02
30.73-28.69
95.23*0.3073171/1.02
setwd("E:/Dropbox/Data Science/R_in_Action")
vars <- c("mpg", "hp", "wt")
head(mtcars[vars])
# Listing 7.1 - descriptive stats via summary
summary(mtcars[vars])
# Listing 7.2 - descriptive stats via sapply()
#
mystats <- function(x, na.omit = FALSE) {
if (na.omit)
x <- x[!is.na(x)]
m <- mean(x)
n <- length(x)
s <- sd(x)
skew <- sum((x - m)^3/s^3)/n
kurt <- sum((x - m)^4/s^4)/n - 3
return(c(n = n, mean = m, stdev = s, skew = skew, kurtosis = kurt))
}
sapply(mtcars[vars], mystats)
# save original graphic settings
opar <- par(no.readonly = TRUE)
vars <- c("mpg", "hp", "wt")
head(mtcars[vars])
# Listing 7.1 - descriptive stats via summary
summary(mtcars[vars])
# Listing 7.2 - descriptive stats via sapply()
#
mystats <- function(x, na.omit = FALSE) {
if (na.omit)
x <- x[!is.na(x)]
m <- mean(x)
n <- length(x)
s <- sd(x)
skew <- sum((x - m)^3/s^3)/n
kurt <- sum((x - m)^4/s^4)/n - 3
return(c(n = n, mean = m, stdev = s, skew = skew, kurtosis = kurt))
}
sapply(mtcars[vars], mystats)
#sapply 可以插入的经典函数有：mean、sd、var、min、max、median、length、range
#和quantile。其他函数需要自己写出：例如上方的mystats。
#对于mystats结果的解释：对于样本中的32种车型，每加仑汽油行驶英里数的平均值为20.1，标准差为6.0。分布呈现右偏（偏
#度+0.61），并且较正态分布稍平（峰度???0.37）。
# Listing 7.3 - Descriptive statistics (Hmisc package)
library(Hmisc)
describe(mtcars[vars])
# Listing 7.4 - Descriptive statistics (pastecs package)
library(pastecs)
stat.desc(mtcars[vars])
# Listing 7.5 - Descriptive statistics (psych package)
library(psych)
describe(mtcars[vars])
library(Hmisc)
describe(mtcars[vars])
library(pastecs)
stat.desc(mtcars[vars])
library(psych)
describe(mtcars[vars])
install.packages("psych")
install.packages("pastecs")
library(pastecs)
stat.desc(mtcars[vars])
a=stat.desc(mtcars[vars])
a[12,'']
a[12,]
a["SE.mean",]
# Listing 7.6 - Descriptive statistics by group with aggregate()
aggregate(mtcars[vars], by = list(am = mtcars$am), mean)
aggregate(mtcars[vars], by = list(am = mtcars$am), sd)
# Listing 7.7 - Descriptive statistics by group via by()
dstats <- function(x)(c(mean=mean(x), sd=sd(x)))
by(mtcars[vars], mtcars$am, dstats)
aggregate(mtcars[vars], by = list(am = mtcars$am), mean)
aggregate(mtcars[vars], by = list(am = mtcars$am), sd)
# Listing 7.7 - Descriptive statistics by group via by()
dstats <- function(x)(c(mean=mean(x), sd=sd(x)))
by(mtcars[vars], mtcars$am, dstats)
aggregate(mtcars[vars], by = list(am = mtcars$am), mean)
mtcars
vars <- c("mpg", "hp", "wt")
aggregate(mtcars[vars], by = list(am = mtcars$am), mean)
aggregate(mtcars[vars], by = list(am = mtcars$am), sd)
# Listing 7.7 - Descriptive statistics by group via by()
dstats <- function(x)(c(mean=mean(x), sd=sd(x)))
by(mtcars[vars], mtcars$am, dstats)
dstats <- function(x)(c(mean=mean(as.numeric(x), sd=sd(as.numeric(x)))
)
)
dstats <- function(x)(c(mean=mean(as.numeric(x)), sd=sd(as.numeric(x)))
）
dstats <- function(x)(c(mean=mean(as.numeric(x)), sd=sd(as.numeric(x))))
by(mtcars[vars], mtcars$am, dstats)
mtcars[vars]
a=mtcars[vars]
is.numeric(a)
as.numweic(a)
as.numeric(a)
as.matrix(a)
dstats <- function(x)(c(mean=mean(as.matrix(x)), sd=sd(as.matrix(x))))
by(mtcars[vars], mtcars$am, dstats)
mytable <- xtabs(~ Treatment+Improved, data=Arthritis)
mytable
Arthritis
Arthritis
library(vcd)
mytable <- with(Arthritis, table(Improved))
mytable <- xtabs(~ Treatment+Improved, data=Arthritis)
mytable
margin.table(mytable, 1)
margin.table(mytable, 2)
prop.table(mytable)
prop.table(mytable)#各项统计（比率）
addmargins(mytable)
admargins(prop.table(mytable))
addmargins(prop.table(mytable))
addmargins(prop.table(mytable, 1), 2)
addmargins(prop.table(mytable, 2, 1)
library(gmodels)
install.packages("gmodels")
library(gmodels)
CrossTable(Arthritis$Treatment, Arthritis$Improved)
library(vcd)
mytable <- xtabs(~Treatment+Improved, data=Arthritis)
chisq.test(mytable)
mytable <- xtabs(~Improved+Sex, data=Arthritis)
chisq.test(mytable)
mytable <- xtabs(~Treatment+Improved, data=Arthritis)
fisher.test(mytable)
mytable <- xtabs(~Treatment+Improved+Sex, data=Arthritis)
mantelhaen.test(mytable)
assocstats(mytable)
mytable <- xtabs(~Treatment+Improved, data=Arthritis)
assocstats(mytable)
table2flat <- function(mytable) {
df <- as.data.frame(mytable)
rows <- dim(df)[1]
cols <- dim(df)[2]
x <- NULL
for (i in 1:rows) {
for (j in 1:df$Freq[i]) {
row <- df[i, c(1:(cols - 1))]
x <- rbind(x, row)
}
}
row.names(x) <- c(1:dim(x)[1])
return(x)
}
# Listing 7.16 - Using table2flat with published data
treatment <- rep(c("Placebo", "Treated"), 3)
improved <- rep(c("None", "Some", "Marked"), each = 2)
Freq <- c(29, 13, 7, 7, 7, 21)
mytable <- as.data.frame(cbind(treatment, improved, Freq))
mydata <- table2flat(mytable)
head(mydata)
states <- state.x77[, 1:6]
cov(states)#方差与协方差
cor(states)#Pearson
cor(states, method="spearman")#Spearman，此处也可以设置为kendall
#首个语句计算了方差和协方差，第二个语句则计算了Pearson积差相关系数，而第三个语句计算
#了Spearman等级相关系数。举例来说，我们可以看到收入和高中毕业率之间存在很强的正相关，
#而文盲率和预期寿命之间存在很强的负相关。
x <- states[, c("Population", "Income", "Illiteracy", "HS Grad")]
y <- states[, c("Life Exp", "Murder")]
cor(x, y)
library(psych)
corr.test(states, use = "complete")
short=F
corr.test(states, use = "complete")
#independent t-test
library(MASS)
t.test(Prob ~ So, data=UScrime)
# dependent t-test
library(MASS)
sapply(UScrime[c("U1", "U2")], function(x) (c(mean = mean(x),
sd = sd(x))))
with(UScrime, t.test(U1, U2, paired = TRUE))
#independent t-test
library(MASS)
t.test(Prob ~ So, data=UScrime)
class <- state.region
var <- state.x77[, c("Illiteracy")]
mydata <- as.data.frame(cbind(class, var))
rm(class,var)
library(npmc)
summary(npmc(mydata), type = "BF")
install.packages("npmc")
install.packages("D:/谷歌下载/npmc_1.0-7.zip", repos = NULL)
library(npmc)
install.packages("mvtnorm")
library(npmc)
summary(npmc(mydata), type = "BF")
aggregate(mydata, by = list(mydata$class), median)
mydata
